<div class="wrapper">
  <div class="row">
    <div class=" col-xs-12 col-lg-12">
      <div class="banner" style="background-image: url('<%= cl_image_path @gadget.photos.first.path, height: 1000, crop: :fill %>')">
        <div class="banner-content">
        </div>
      </div>
    </div>
  </div>
</div>

<div class = "card-gadget">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-md-6">
        <div class="tabs">
          <a class="tab active" data-target="#description">
            <h3>Description</h3>
          </a>
          <a class="tab" data-target="#reviews">
           <h3>Reviews</h3>
         </a>
       </div>
       <div class="tabs-container">
         <h2><%=@gadget.brand%> | <%=@gadget.model%></h2>
         <div class="description tab-content" id="description">
          <div class="item">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae commodi quod, placeat. Nam tempora dolore, vitae ipsa eum laboriosam aliquid debitis ut commodi nobis mollitia, modi quidem voluptatum nihil esse?</p>
            <h3> Features </h3>
            <table class = "table">
              <tr>
                <td>category</td>
                <td class="text-right"><%=@gadget.category%></td>
              </tr>
              <tr>
                <td>brand</td>
                <td class="text-right"><%=@gadget.brand%></td>
              </tr>
              <tr>
                <td>model</td>
                <td class="text-right"><%=@gadget.model%></td>
              </tr>
              <tr>
                <td>description</td>
                <td class="text-right"><%=@gadget.description%></td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="tab-content hidden" id="reviews">

        <h2>Reviews</h2>
        <% def hey %>
        <% durchschnitt = 0 %>
        <% i = 0 %>
        <% ratings = 0 %>
        <% k = 0 %>
        <% @gadget.reviews.each do |review| %>
        <% k += 1 %>
        <% if k < 4 %>
        <div class="review-box">
          <ul>
            <h6> <%= review.context  %></h6>
            <%  review.rating.times do |f|  %>
            <span class="fa fa-star star-review"> </span>
            <% end %>
            <br>
            <%=   review.gadget.user.first_name %>
          </ul>
        </div>
        <% i += 1 %>
        <%  durchschnitt = (ratings += review.rating)/ i %>
        <% end %>
        <% end %>
        <div class="container">


          <% if @gadget.reviews.empty? %>
          <h2>This gadget has no reviews</h2>
          <div class= "btn btn-primary add-review-buttons "><%= link_to "add review", new_gadget_review_path(@gadget)%>
          </div>

          <% else %>
          <div class=" col-xs-3 ">
            <h4> the average rating is </h4>
            <%  durchschnitt.times do |f|  %>
            <span class="fa fa-star star-review"> </span>
            <% end %>
          </div>
          <%= link_to "add review", new_gadget_review_path(@gadget), {class: "btn btn-primary"}%>

          <%= link_to "See all reviews", gadget_reviews_path(@gadget), {class: "btn btn-primary"}%>

          <% end %>



          <% end %>
          <%= hey %>
        </div>


      </div>
    </div>
    <div class="col-xs-12 col-md-6">
      <div class = "item-booking">
        <table class = "table price">
         <tr>
          <td id="gadgetprice"><%=@gadget.price%> €</td>
          <td class ="text-right"> per day</td>
        </tr>
      </table>
      <table class = "table date">
        <tr>
          <td class="text-center">from </td>
          <td class="text-center">to </td>
        </tr>
        <tr>
          <td>  <%= simple_form_for [@gadget, @booking] do |f| %>
           <%= f.input :start_date, as: :string, input_html: {class: "form-control datetimepicker", id:"start_date"} %>
           <%= f.input :end_date, as: :string, input_html: {class: "form-control datetimepicker", id:"end_date"} %>

         </td>
       </tr>
     </table>
     <table class = "table">
       <tr>
        <td>total price</td>
        <td class ="text-right" id="price"><%=@gadget.price%>€</td>
      </tr>
    </table>
    <%= f.submit "book now!", class: "btn btn-primary btn-large btn-block" %>
    <% end %>

  </div>

</div>
</div>
</div>
</div>

<div class = "container">
  <div class = "col-xs-12 col col-lg-12">
    <div id="map" style="width: 100%; height: 400px;"></div>

    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>

    <script type="text/javascript">
      var myLatlng = new google.maps.LatLng(48.8655909, 2.378983);

      var myOptions = {
        zoom: 16,
        center: myLatlng,
        scrollwheel: false,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        styles: [
        {
          "featureType": "water",
          "elementType": "geometry",
          "stylers": [
          {
            "color": "#004358"
          }
          ]
        },
        {
          "featureType": "landscape",
          "elementType": "geometry",
          "stylers": [
          {
            "color": "#1f8a70"
          }
          ]
        },
        {
          "featureType": "poi",
          "elementType": "geometry",
          "stylers": [
          {
            "color": "#1f8a70"
          }
          ]
        },
        {
          "featureType": "road.highway",
          "elementType": "geometry",
          "stylers": [
          {
            "color": "#fd7400"
          }
          ]
        },
        {
          "featureType": "road.arterial",
          "elementType": "geometry",
          "stylers": [
          {
            "color": "#1f8a70"
          },
          {
            "lightness": -20
          }
          ]
        },
        {
          "featureType": "road.local",
          "elementType": "geometry",
          "stylers": [
          {
            "color": "#1f8a70"
          },
          {
            "lightness": -17
          }
          ]
        },
        {
          "elementType": "labels.text.stroke",
          "stylers": [
          {
            "color": "#ffffff"
          },
          {
            "visibility": "on"
          },
          {
            "weight": 0.9
          }
          ]
        },
        {
          "elementType": "labels.text.fill",
          "stylers": [
          {
            "visibility": "on"
          },
          {
            "color": "#ffffff"
          }
          ]
        },
        {
          "featureType": "poi",
          "elementType": "labels",
          "stylers": [
          {
            "visibility": "simplified"
          }
          ]
        },
        {
          "elementType": "labels.icon",
          "stylers": [
          {
            "visibility": "off"
          }
          ]
        },
        {
          "featureType": "transit",
          "elementType": "geometry",
          "stylers": [
          {
            "color": "#1f8a70"
          },
          {
            "lightness": -10
          }
          ]
        },
        {},
        {
          "featureType": "administrative",
          "elementType": "geometry",
          "stylers": [
          {
            "color": "#1f8a70"
          },
          {
            "weight": 0.7
          }
          ]
        }
] // TODO: replace [] by array from https://snazzymaps.com/
};

var map = new google.maps.Map(document.getElementById('map'), myOptions);
var marker = new google.maps.Marker({
  position: myLatlng,
  map: map,
  title: "You are here!"
});
</script>
</div>
</div>



=======
<!-- Content for +script -->
<!-- var start_date = $('#start_date').val() -->
>>>>>>> c6fbe7b69722bb2b6bd36d560ca4e04ba790e9fb
